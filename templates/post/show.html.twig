{% extends 'base.html.twig' %}

{% block body %}
    <style>
        .comment-margin { margin-top: 20px; }
        .card-margin { margin-top: 10px; width: 100%; }
        .comment-published { margin-top: 10px; }
        .card-header { font-size: 15px; }
        .material-icons { 
            vertical-align: top; 
            margin-right: 10px; 
            margin-left: 5px; 
            width: 10px; 
            height: 10px;
            color: #6C757D;
        }
        .text-content { white-space: pre-wrap; }
    </style>

    <div class="row comment-margin">
        <h1>{{ post.title }}</h1>
    </div>

    <div class="row">
        <div class="card card-margin">
            <p class="card-header"><i class="material-icons">person</i> {{ post.author.name }}  <i class="material-icons">category</i> {{ post.category.name }}</p>
            <div class="card-body">
                <p class="card-text text-content">{{ post.Content }}</p>
            </div>
        </div>
    </div>

    <div class="row comment-margin">
        <h3>Comentarios:</h3>

        {% for comment in post.comments %}
            <div class="card card-margin">
                <div class="card-body">
                    <p class="text-content">{{ comment.message }}</p>
                    <footer class="blockquote-footer">{{ comment.user.name }} - <cite title="Source Title">{{ comment.publishedAt|date('d-m-Y') }}</cite></footer>
                </div>
            </div>    
        {% endfor %}
        
        
        <div class="col-sm-12 comment-published">
            {% include 'post/_comment.html.twig' with {'form': form} only %}
        </div>

    </div>
{% endblock %}